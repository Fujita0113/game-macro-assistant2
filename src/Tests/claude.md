<claude>
  <スコープ>UI 層 — WPF / MVVM</スコープ>

  <ガイドライン>
    - **ReactiveUI** を使用  
    - UserControl ↔ ViewModel 1:1  
    - ViewModel にロジック、Code‑behind はアニメのみ  
    - R‑008/009/010/011 を厳守
  </ガイドライン>
  <Rule>
    1. **コード実装とUIテスト修正をセットで行うこと**
      - 新規または変更されたUI要素がある場合、その検証を行うテストを `tests/GameMacroAssistant.UITests/` に追加または更新してください。
      - UIテストが変更を網羅しない状態での納品は禁止します。
    2. **UIテストの品質**
      - xUnit + WinAppDriver形式
      - ファイル名: `<機能名>Tests.cs`
      - 新しいボタン・メニュー・ダイアログ等が追加された場合は必ずクリックや入力の検証を含めること
    3. **セッション管理**
      - WinAppDriverセッションの開始・終了を安全に処理するコードを含めること
    4. **エラーログ**
      - テストが失敗した際は、ログに要素が見つからなかった箇所やスクリーンショットのパスを記録すること
  </Rules>
</claude>
